(function(e){function t(t){for(var r,a,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i={app:0},o=[];function c(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"fc9c4c60"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={about:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({about:"about"}[e]||e)+"."+{about:"8499efbf"}[e]+".css",i=s.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===r||l===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],f.parentNode.removeChild(f),n(o)},f.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}i[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/gedcom-review/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"13d3":function(e,t,n){"use strict";var r=n("d97b"),a=n.n(r);a.a},2822:function(e,t,n){"use strict";n.d(t,"o",(function(){return v})),n.d(t,"n",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return w})),n.d(t,"f",(function(){return O})),n.d(t,"p",(function(){return x})),n.d(t,"q",(function(){return k})),n.d(t,"a",(function(){return j})),n.d(t,"A",(function(){return _})),n.d(t,"r",(function(){return M})),n.d(t,"s",(function(){return R})),n.d(t,"d",(function(){return C})),n.d(t,"z",(function(){return E})),n.d(t,"c",(function(){return D})),n.d(t,"b",(function(){return A})),n.d(t,"j",(function(){return S})),n.d(t,"u",(function(){return I})),n.d(t,"x",(function(){return T})),n.d(t,"y",(function(){return U})),n.d(t,"w",(function(){return P})),n.d(t,"t",(function(){return G})),n.d(t,"v",(function(){return L})),n.d(t,"i",(function(){return N})),n.d(t,"e",(function(){return F})),n.d(t,"h",(function(){return W})),n.d(t,"g",(function(){return B})),n.d(t,"B",(function(){return H})),n.d(t,"E",(function(){return V})),n.d(t,"D",(function(){return $})),n.d(t,"L",(function(){return z})),n.d(t,"N",(function(){return q})),n.d(t,"J",(function(){return K})),n.d(t,"M",(function(){return Y})),n.d(t,"H",(function(){return J})),n.d(t,"R",(function(){return Q})),n.d(t,"P",(function(){return X})),n.d(t,"O",(function(){return Z})),n.d(t,"F",(function(){return ee})),n.d(t,"Q",(function(){return te})),n.d(t,"U",(function(){return ne})),n.d(t,"Z",(function(){return re})),n.d(t,"T",(function(){return ae})),n.d(t,"Y",(function(){return ie})),n.d(t,"S",(function(){return oe})),n.d(t,"ab",(function(){return ce})),n.d(t,"C",(function(){return se})),n.d(t,"X",(function(){return ue})),n.d(t,"V",(function(){return le})),n.d(t,"W",(function(){return de})),n.d(t,"G",(function(){return fe})),n.d(t,"K",(function(){return pe})),n.d(t,"I",(function(){return he}));n("7db0"),n("c975"),n("a434"),n("b0c0"),n("3410"),n("07ac"),n("ac1f"),n("5319"),n("2ca0"),n("498a");var r=n("b85c"),a=n("2ef0"),i=n.n(a),o=(n("d3b7"),n("4d63"),n("25f0"),n("a1f0"),n("2909")),c={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12,jan:1,feb:2,mar:3,apr:4,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,febr:2,sept:9};function s(e){return e=e.toLowerCase(),c[e]||0}function u(e){return e>=1e3&&e<2200}function l(e){return e>=1&&e<=31}function d(e){return e>=1&&e<=12}var f=new RegExp("\\d+|[^0-9\\s~!@#$%^&*()_+\\-={}|:'<>?;,./\"\\[\\]\\\\]+","g");function p(e){var t="";if(!e)return t;for(var n=0,r=0,a=0,i=Object(o["a"])(e.matchAll(f)),c=0;c<i.length;c++){var p=i[c][0],h=+p;u(h)?0===n&&(n=h):s(p)>0?0===r&&(r=s(p)):l(h)&&(!d(h)||c>0&&s(i[c-1][0])>0||c<i.length-1&&s(i[c+1][0])>0)?0===a&&(a=h):c>0&&u(+i[c-1])||d(h)&&0===r&&(r=h)}return n>0&&(t=n.toString(),r>0&&(t+=r<10?"0"+r.toString():r.toString(),a>0&&(t+=a<10?"0"+a.toString():a.toString()))),t}var h=n("4ac7"),m=n("3fa2"),v=104,b=106,g=108,y=110,w=112,O={104:"Source",106:"Place",108:"Person",110:"Family",112:"MySource"},x=1,k=2,j=3,_=4,M=5,R=6,C=7,E=8,D=9,A=["Help:Review_GEDCOM","Help:Review_GEDCOM#Overview_Tab","Help:Review_GEDCOM#People_Tab","Help:Review_GEDCOM#Families_Tab","Help:Review_GEDCOM#Warnings_Tab","Help:Review_GEDCOM#Places_Tab","Help:Review_GEDCOM#Sources_Tab","Help:Review_GEDCOM#Family_Matches_Tab","Help:Review_GEDCOM#Updates_Tab","Help:Review_GEDCOM#Import_Tab"],S="Help:Review_GEDCOM/Not_Matchable",I=0,T=5,U=6,P=7,G=8,L=19,N=9999,F=5100,W="#nomatch#",B=60;function H(e){return Object.assign(Object.create(Object.getPrototypeOf(e)),e)}function V(e){return e===y?j:e===g?k:e===w?R:e===b?M:0}function $(e,t){var n=e.personMap[t];return n?{data:n,component:k}:(n=e.familyMap[t],n?{data:n,component:j}:(n=e.sourceMap[t],n?{data:n,component:R}:(n=e.placeMap[t],n?{data:n,component:M}:null)))}function z(e,t){return 0!==t.indexOf(O[e]+":")?O[e]+":"+t:t}function q(e){for(var t=0,n=Object.values(O);t<n.length;t++){var r=n[t];if(e.startsWith(r+":"))return e.substr(r.length+1)}return e}function K(e){return+e["@ns"]===g?pe(e):De(e)}function Y(e,t){var n,a=[],i=Object(r["a"])(e["people"]||[]);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(+t["@ns"]===b){var c,s=Object(r["a"])(o["event_fact"]||[]);try{for(s.s();!(c=s.n()).done;){var u=c.value;if(Re(u["@place"])===t["@text"]){a.push(o);break}}}catch(j){s.e(j)}finally{s.f()}}else if(+t["@ns"]===w){var l,d=Object(r["a"])(o["source_citation"]||[]);try{for(d.s();!(l=d.n()).done;){var f=l.value;if(f["@source_id"]===t["@id"]){a.push(o);break}}}catch(j){d.e(j)}finally{d.f()}}}}catch(j){i.e(j)}finally{i.f()}var p,h=Object(r["a"])(e["families"]||[]);try{for(h.s();!(p=h.n()).done;){var m=p.value;if(+t["@ns"]===b){var v,g=Object(r["a"])(m["event_fact"]||[]);try{for(g.s();!(v=g.n()).done;){var y=v.value;if(Re(y["@place"])===t["@text"]){a.push(m);break}}}catch(j){g.e(j)}finally{g.f()}}else if(+t["@ns"]===w){var O,x=Object(r["a"])(m["source_citation"]||[]);try{for(x.s();!(O=x.n()).done;){var k=O.value;if(k["@source_id"]===t["@id"]){a.push(m);break}}}catch(j){x.e(j)}finally{x.f()}}}}catch(j){h.e(j)}finally{h.f()}return a}function J(e,t){return+t["@ns"]===g?ve(t):+t["@ns"]===y?be(e,t):+t["@ns"]===w?ge(e,t):""}function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=i.a.cloneDeep(t);a["@title"]=z(+t["@ns"],J(e,t)),a["@merged"]=t["@merged"];var o,c=Object(r["a"])(a["child_of_family"]||[]);try{for(c.s();!(o=c.n()).done;){var s=o.value;Oe(e,s,n)}}catch(R){c.e(R)}finally{c.f()}var u,l=Object(r["a"])(a["spouse_of_family"]||[]);try{for(l.s();!(u=l.n()).done;){var d=u.value;Oe(e,d,n)}}catch(R){l.e(R)}finally{l.f()}var f,p=Object(r["a"])(a["husband"]||[]);try{for(p.s();!(f=p.n()).done;){var h=f.value;we(e,h,n)}}catch(R){p.e(R)}finally{p.f()}var m,v=Object(r["a"])(a["wife"]||[]);try{for(v.s();!(m=v.n()).done;){var b=m.value;we(e,b,n)}}catch(R){v.e(R)}finally{v.f()}var g,y=Object(r["a"])(a["child"]||[]);try{for(y.s();!(g=y.n()).done;){var w=g.value;we(e,w,n)}}catch(R){y.e(R)}finally{y.f()}var O,x=Object(r["a"])(a["event_fact"]||[]);try{for(x.s();!(O=x.n()).done;){var k=O.value;xe(e,k)}}catch(R){x.e(R)}finally{x.f()}var j,_=Object(r["a"])(a["source_citation"]||[]);try{for(_.s();!(j=_.n()).done;){var M=j.value;ke(e,M,n)}}catch(R){_.e(R)}finally{_.f()}return n&&(je(a["child_of_family"]),je(a["spouse_of_family"]),je(a["husband"]),je(a["wife"]),je(a["child"]),je(a["source_citation"])),a}function X(e){return+e["@ns"]===g?e["person"][0]:e["family"][0]}function Z(e){var t="";return 0===e["@warningLevel"]?t="alert":1===e["@warningLevel"]?t="warning":2===e["@warningLevel"]?t="error":3===e["@warningLevel"]&&(t="duplicate"),t}function ee(e,t){return e&&e["event_fact"]?e["event_fact"].find((function(e){return e["@type"]===t})):null}function te(e,t){var n=+t["@ns"];t["@warningLevel"]||n!==g&&n!==y||(n===g||n===y&&("true"!==t["@exclude"]&&(t["@match"]||t["@matches"])?e.addUpdateMatch(t):e.removeMatch(t)),t["@warning"]&&"true"!==t["@exclude"]?e.addUpdateWarnings(t):e.removeWarnings(t))}function ne(e,t,n){t["@read"]=n,te(e,t)}function re(e,t,n){t["@warningRead"]=n,te(e,t)}function ae(e,t,n){t["@matchRead"]=n,te(e,t)}function ie(e,t,n){t["@updateRead"]=n,te(e,t)}function oe(e){e["@stdMatch"]="true"===e["@nomatch"]?W:e["@match"].toLowerCase()}function ce(e,t,n){var r=+t["@ns"];if(r===g){var a=se("person",n);me(t,a),ue(t)}else if(r===y){var i=se("family",n);me(t,i),le(t)}else if(r===w){var o=se("mysource",n);me(t,o),de(t)}te(e,t)}function se(e,t){var n="</"+e+">",r=t.indexOf(n)+n.length,a=Object(h["c"])(t.substr(0,r)),i=Object(h["e"])(a);return i["#content"]=t.substr(r).trim(),i}function ue(e){e["@stdDate"]=p((ee(e,"Birth")||{})["@date"]),e["@stdDeathDate"]=p((ee(e,"Death")||{})["@date"]),e["@stdName"]=pe(e).toLowerCase()}function le(e){e["@stdHusbandName"]=fe(e["husband"]?e["husband"][0]:null).toLowerCase(),e["@stdWifeName"]=fe(e["wife"]?e["wife"][0]:null).toLowerCase(),e["@stdName"]=e["@stdHusbandName"]+" and "+e["@stdWifeName"],e["@stdDate"]=p((ee(e,"Marriage")||{})["@date"])}function de(e){e["@stdName"]=he(e,null).toLowerCase(),e["@stdAuthor"]=(e["author"]&&e["author"][0]["#text"]?e["author"][0]["#text"]:"").toLowerCase()}function fe(e){return e?(e["@surname"]||"Unknown")+","+(e["@title_prefix"]?" "+e["@title_prefix"]:"")+(e["@given"]?" "+e["@given"]:"")+(e["@title_suffix"]?" "+e["@title_suffix"]:""):""}function pe(e){return e?fe(e["name"]?e["name"][0]:null):""}function he(e,t){var n="Source";return e["title"]&&e["title"][0]["#text"]?n=e["title"][0]["#text"]:e["abbrev"]&&e["abbrev"][0]["#text"]?n=e["abbrev"][0]["#text"]:e["author"]&&e["author"][0]["#text"]&&(n=e["author"][0]["#text"],e["publication_info"]&&e["publication_info"][0]["#text"]&&(n+=" "+e["publication_info"][0]["#text"])),t&&(n=t+"/"+n),Me(n)}function me(e,t){for(var n in e)e.hasOwnProperty(n)&&!n.startsWith("@")&&delete e[n];for(var r in t)t.hasOwnProperty(r)&&!r.startsWith("@")&&(e[r]=t[r])}function ve(e){var t=Ce(e);return"true"===e["@exclude"]&&(t+=" - Excluded"),t+=" ("+e["@id"]+" gedcom)",t}function be(e,t){var n=t["husband"]?e.personMap[t["husband"][0]["@id"]]:null,r=t["wife"]?e.personMap[t["wife"][0]["@id"]]:null,a=Ee(n,r);return"true"===t["@exclude"]&&(a+=" - Excluded"),a+=" ("+t["@id"]+" gedcom)",a}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n&&t["@match"])return"Source:"+t["@match"];var r="MySource:"+he(t,e.userName);return n||("true"===t["@exclude"]&&(r+=" - Excluded"),r+=" ("+t["@id"]+" gedcom)"),r}function ye(e,t){var n=e.placeTextMap[t];if(n){var r=n["@match"];return"true"===n["@nomatch"]?t:r?r+"|"+t:n["@bestMatch"]+"|"+t}return t}function we(e,t,n){var r=e.personMap[t["@id"]];if(r&&(t["@title"]=ve(r),n&&r["@match"]&&(t["@match"]=r["@match"]),"true"===r["@exclude"]&&(t["@title_suffix"]+=" - Excluded",n&&(t["@exclude"]="true")),"true"===r["@living"]&&(t["@given"]="Living",t["@title_prefix"]="",t["@title_suffix"]="",t["@birthdate"]="",t["@birthplace"]="",t["@chrdate"]="",t["@chrplace"]="",t["@deathdate"]="",t["@deathplace"]="",t["@burialdate"]="",t["@burialplace"]="")),t["@birthplace"]&&(t["@birthplace"]=ye(e,t["@birthplace"])),t["@chrplace"]&&(t["@chrplace"]=ye(e,t["@chrplace"])),t["@deathplace"]&&(t["@deathplace"]=ye(e,t["@deathplace"])),t["@burialplace"]&&(t["@burialplace"]=ye(e,t["@burialplace"])),t["@child_of_family"]){var a=e.familyMap[t["@child_of_family"]];a&&(t["@child_of_family"]=be(e,a))}}function Oe(e,t,n){var r=e.familyMap[t["@id"]];r&&(t["@title"]=be(e,r),n&&r["@match"]&&(t["@match"]=r["@match"]),"true"===r["@exclude"]&&n&&(t["@exclude"]="true"))}function xe(e,t){t["@place"]&&(t["@place"]=ye(e,t["@place"]))}function ke(e,t,n){var r=e.sourceMap[t["@source_id"]];r&&(t["@title"]=ge(e,r,n),"true"===r["@exclude"]&&n&&(t["@exclude"]="true"))}function je(e){if(e)for(var t=e.length-1;t>=0;t--)"true"===e[t]["@exclude"]&&e.splice(t,1)}function _e(e){return e.replace(/[?~!@#$%^&*.()_+=/<>{}[\];:"\\,|]/g," ").replace(/\s+/g," ")}function Me(e){e=e.replace(/[<[{]/g,"(").replace(/[>\]}]/g,")").replace(/\|/g,"-").replace(/_/g," ").replace(/#/g,"number ").replace(/\?/g," question ").replace(/\+/g," plus ").replace(/%([0-9a-fA-F][0-9a-fA-F])/g,"% $1").replace(/\s+/g," ").replace(/\/\/+/g,"/"),e=e.trim();while(e.length>0&&(e.startsWith(".")||e.startsWith("/")))e=e.substr(1);return e.length>150&&(e=e.substr(0,149)),Object(m["a"])(e)}function Re(e){var t=e.indexOf("|");return t>0?e.substr(0,t):e}function Ce(e){var t="";if("true"===e["@living"])t="Living";else{t=e["name"]&&e["name"][0]["@given"]?e["name"][0]["@given"].trim():"";var n=t.indexOf(" ");n>0&&(t=t.substr(0,n))}return t=_e(t+" "+(e["name"]&&e["name"][0]["@surname"]?e["name"][0]["@surname"]:"")),Me(Object(m["a"])(t.toLowerCase(),!0))}function Ee(e,t){var n="";return n+=e?Ce(e):"Unknown",n+=" and ",n+=t?Ce(t):"Unknown",n}function De(e){return fe(e["husband"]?e["husband"][0]:null)+" and "+fe(e["wife"]?e["wife"][0]:null)}},"3fa2":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d}));n("99af"),n("a15b"),n("d81d"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("1276");function r(e){return"number"===typeof e&&(e=e.toString()),e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;"):""}var a=/%2F/g,i=/%3A/g,o=/%20/g,c=/%23/g;function s(e){return encodeURIComponent(e).replace(i,":").replace(a,"/").replace(o,"_").replace(c,"#")}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substr(1)})).join(" "):e.charAt(0).toUpperCase()+e.substr(1)}function l(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")}function d(e,t){var n=Math.max(e.length,t.length);return(n-f(e,t))/n}function f(e,t){var n;if(0===e.length)return t.length;if(0===t.length)return e.length;e.length>t.length&&(n=e,e=t,t=n);var r,a,i,o=e.length,c=t.length,s=Array(o);for(r=0;r<=o;r++)s[r]=r;for(r=1;r<=c;r++)for(i=r,a=1;a<=o;a++)n=s[a-1],s[a-1]=i,i=t[r-1]===e[a-1]?n:Math.min(n+1,Math.min(i+1,s[a]+1));return i}},"4ac7":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));n("99af"),n("a15b"),n("b64b"),n("2ca0"),n("498a");var r=n("b85c"),a=n("3fa2");function i(e){var t=new DOMParser;return t.parseFromString(e,"application/xml").documentElement}function o(e){if(!e)return null;var t={};if(1===e.nodeType){t["#tag"]=e.nodeName;for(var n=0;n<e.attributes.length;n++){var r=e.attributes.item(n);t["@"+r.nodeName]=r.nodeValue}}else 3===e.nodeType&&(t=e.nodeValue.trim());if(e.hasChildNodes())for(var a=0;a<e.childNodes.length;a++){var i=e.childNodes.item(a),c=o(i);if(c)if(3!==i.nodeType){var s=i.nodeName;t[s]||(t[s]=[]),t[s].push(c)}else t["#text"]=c}return t}function c(e){for(var t=e["#tag"]||"gedcom",n=e["#text"]||"",i=e["#content"]||"",o=[],s=[],u=0,l=Object.keys(e);u<l.length;u++){var d=l[u];if(d.startsWith("#"));else if(d.startsWith("@"))null!=e[d]&&o.push(" ".concat(d.substr(1),'="').concat(Object(a["c"])(e[d]),'"'));else{var f,p=Object(r["a"])(e[d]);try{for(p.s();!(f=p.n()).done;){var h=f.value;s.push(c(h))}}catch(m){p.e(m)}finally{p.f()}}}return i&&s.push("<content>"+Object(a["c"])(i)+"</content>"),"<".concat(t).concat(o.join(""),">").concat(s.join("")).concat(Object(a["c"])(n),"</").concat(t,">")}function s(e,t){for(var n=[],r=0;r<e.children.length;r++)e.children[r].tagName===t&&n.push(e.children[r]);return n}function u(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes.item(t),r=o(n);if(r&&3===n.nodeType)return r}return""}},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"state",(function(){return re})),n.d(r,"mutations",(function(){return ae})),n.d(r,"actions",(function(){return ie}));var a={};n.r(a),n.d(a,"state",(function(){return ce})),n.d(a,"mutations",(function(){return se})),n.d(a,"actions",(function(){return ue})),n.d(a,"getters",(function(){return le}));var i={};n.r(i),n.d(i,"state",(function(){return pe})),n.d(i,"mutations",(function(){return me})),n.d(i,"actions",(function(){return ve}));n("4de4"),n("4160"),n("b680"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("159b"),n("ddb0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app"}},[n("v-navigation-drawer",{attrs:{clipped:!0,"mini-variant":e.$vuetify.breakpoint.mdAndDown,permanent:!0,width:180,app:""}},[n("v-list",{attrs:{dense:""}},[e._l(e.items,(function(t){return[n("v-list-item",{key:t.text,attrs:{to:t.link,link:""}},[n("v-list-item-action",[n("v-icon",{attrs:{title:t.text}},[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.text))])],1)],1)]}))],2)],1),n("v-main",[n("multipane",{staticClass:"horizontal-panes",attrs:{layout:"horizontal"}},[n("div",{style:{minHeight:"10%",maxHeight:"90%",height:"250px"},attrs:{id:"container-wrapper"}},[n("Notifications"),n("v-container",[n("v-row",[n("router-view",{key:e.$route.fullPath,attrs:{id:"view"}})],1)],1)],1),n("multipane-resizer"),n("div",{staticClass:"iframe-parent",style:{minHeight:"10%",maxHeight:"90%",flexGrow:1}},[n("iframe",{style:{flexGrow:1},attrs:{id:"iframe",src:"https://www.werelate.org/wiki/Help:Review_GEDCOM",frameborder:"0"}})])],1)],1)],1)},s=[],u=(n("466d"),n("8828")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Snackbars",{attrs:{messages:e.notifications.notificationsList,"id-key":"id","color-key":"type","text-key":"message",timeout:"5000",top:"",right:""},on:{remove:e.notificationsRemove}})},d=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.snackbars,(function(t,r){return n("v-snackbar",e._b({key:t.id,class:"snackbars snackbars-"+r+"-"+e.identifier,attrs:{timeout:-1,color:t.color},scopedSlots:e._u([{key:"action",fn:function(){return[e._t("action",[n("v-btn",{attrs:{text:""},on:{click:function(n){return e.removeMessage(t.id)}}},[e._v("close")])],{close:e.removeMessage,id:t.id,index:r,message:t.text})]},proxy:!0}],null,!0),model:{value:t.show,callback:function(n){e.$set(t,"show",n)},expression:"snackbar.show"}},"v-snackbar",e.$attrs,!1),[e._v(" "+e._s(t.text)+" ")])})),n("css-style",[e._v(" .snackbars .v-snack__wrapper { transition: "+e._s(e.topOrBottom)+" 500ms; "+e._s(e.topOrBottom)+": 0; } ")]),e._l(e.len,(function(t){return n("css-style",{key:"snackbars-css"+t},[e._v(" .snackbars.snackbars-"+e._s(t)+"-"+e._s(e.identifier)+" > .v-snack__wrapper { "+e._s(e.topOrBottom)+":"+e._s(t*e.distance)+"px; } ")])}))],2)},p=[],h=(n("7db0"),n("fb6a"),n("45fc"),n("a9e3"),{name:"snackbars",props:{messages:{type:Array,default:function(){return[]}},idKey:{type:String},textKey:{type:String,default:"text"},colorKey:{type:String,default:"color"},timeout:{type:[Number,String],default:5e3},distance:{type:[Number,String],default:55}},data:function(){return{topOrBottom:"bottom",len:0,snackbars:[],identifier:Date.now()+(Math.random()+"").slice(2)}},components:{"css-style":{render:function(e){return e("style",this.$slots.default)}}},watch:{messages:function(){this.setSnackbars()}},methods:{setSnackbars:function(){var e=this;this.snackbars=this.snackbars.filter((function(t){return e.messages.some((function(n){return n[e.idKey]===t.id}))})),this.messages.forEach((function(t){var n=e.snackbars.find((function(e){return e.id===t.id}));if(n)n.text=t[e.textKey],n.color=t[e.colorKey];else{var r=t[e.idKey];e.snackbars.push({id:r,text:t[e.textKey],color:t[e.colorKey],show:!0}),e.timeout>0&&setTimeout((function(){return e.removeMessage(r)}),1*e.timeout)}})),this.snackbars.length>this.len&&(this.len=this.snackbars.length)},removeMessage:function(e){this.$emit("remove",e)}},created:function(){"undefined"!==typeof this.$attrs.top&&!1!==this.$attrs.top&&(this.topOrBottom="top"),this.setSnackbars()}}),m=h,v=n("2877"),b=n("6544"),g=n.n(b),y=n("8336"),w=n("2db4"),O=Object(v["a"])(m,f,p,!1,null,null,null),x=O.exports;g()(O,{VBtn:y["a"],VSnackbar:w["a"]});var k=n("2f62"),j={components:{Snackbars:x},computed:Object(k["c"])(["notifications"]),methods:Object(k["b"])(["notificationsRemove"])},_=j,M=(n("13d3"),Object(v["a"])(_,l,d,!1,null,"500354fe",null)),R=M.exports,C=n("323e"),E=n.n(C),D=(n("96cf"),n("1da1")),A=(n("a15b"),n("b85c")),S={internalDuplicates:"Files with internal duplicates cannot be imported.  Review the duplicates on the Warnings tab, remove the duplicates from your desktop genealogy program, remove this GEDCOM, and upload a revised GEDCOM.",notReady:"Before your GEDCOM is ready to import, you need to: ",notReadyWarnings:"Click on each of the warnings in the Warnings tab to review the warning.",notReadyFamilies:"Click on each of the families in the Family Matches tab, decide whether the existing family matches your GEDCOM family, and click on 'Match' or 'Not a Match' in the bottom pane.",notImportable:"Your GEDCOM cannot be imported to WeRelate in its current form, either because it has too many warnings or it contains duplicates.  Click on the Warnings tab, print the warnings, correct or remove the incorrect information in your desktop genealogy program, remove this GEDCOM, and upload a revised GEDCOM.",probablyNotImportable:"Your GEDCOM has a high percentage of warnings and will likely be rejected.  We recommend that you click on the Warnings tab, print the warnings, correct or remove the incorrect information in your desktop genealogy program, remove this GEDCOM, and upload a revised GEDCOM.",phase2:"Congratulations! Your GEDCOM is ready to import.  Click on the button below",phase3:"Your GEDCOM is ready for import and will be imported shortly.",adminReviewAdmin:'Dear Admin, please click on "Ready to Import" if the GEDCOM is ok to import, leave a message for the uploader if there are questions or problems, or click on "Return to user review" to allow the uploader to re-review the GEDCOM.',adminReview:"An administrator will review your GEDCOM shortly and finalize the import or contact you with any questions.",warningsAboveLowerThreshold:"This file has a high percentage of warnings and will likely be rejected.  We recommend that you click on the Warnings tab, print the warnings, correct or remove the incorrect information in your desktop genealogy program, remove this GEDCOM, and upload a revised GEDCOM.",warningsAboveUpperThreshold:"This file has too many warnings to import.  Click on the Warnings tab, print the warnings, correct or remove the incorrect information in your desktop genealogy program, remove this GEDCOM, and upload a revised GEDCOM.",nextsteps:"Click on the icons at the left from top to bottom.  Read the help in the bottom frame. Tip: Slowly drag the dividing bar below up or down to resize the bottom pane.",returntowerelate:"Finish your review later.",removegedcom:"In case you change your mind about uploading this GEDCOM, you can remove it.",onhold:"A hold has been placed on your GEDCOM. Would you please review the messages on your talk page shown below?  Once the questions have been resolved the hold will be removed.",statuswaiting:"Your GEDCOM is waiting to be analyzed.  Please check back later.",statusanalyzing:"Your GEDCOM is currently being analyzed.  Please check back later.",statusdelete:"Your GEDCOM has been removed.",statusphase2:"The GEDCOM has been returned to user review.",statusphase3:"Thank you! Wiki pages for your GEDCOM will be created shortly. You will receive a message on your talk page as soon as they are ready.",statushold:"The GEDCOM has been placed on hold.",statuszero:"Something went wrong. It's our fault. Please try again later.",statusother:"Something went wrong. It's our fault. Please try again later.",notsignedin:'Please sign in by clicking on the "Sign in" link near the upper-right corner of the page, then re-load this program by clicking on the review link again.',notauthorized:"You are not authorized to review this GEDCOM; if you have questions, please contact dallan@werelate.org",gedcomnotfound:"Error reading the GEDCOM; please try again in a few minutes; if you have questions, please contact dallan@werelate.org",gedcomhold:"The GEDCOM has been placed on hold. Please go to your talk page (select Talk Page from the MyRelate menu) for more information.",unexpectederror:"Something went wrong. It's our fault. Please try again later."},I=n("2822"),T=n("4ac7"),U=(n("c740"),n("caad"),n("a434"),n("9129"),n("2532"),n("1276"),n("2ca0"),n("d4ec")),P=n("bee2"),G=function(){function e(){Object(U["a"])(this,e),this.gedcomId=0,this.userName="",this.status=0,this.importInstructions="",this.nextSteps="",this.isOwner=!1,this.isAdmin=!1,this.isUpdatable=!1,this.isReturnable=!1,this.isHoldable=!1,this.isImportable=!1,this.isMatchable=!1,this.isMergeable=!1,this.primaryPerson=null,this.peopleToImport=0,this.peopleExcluded=0,this.peopleMatched=0,this.familiesToImport=0,this.familiesExcluded=0,this.familiesMatched=0,this.warningsRead=0,this.warningsUnread=0,this.warningLevel=0,this.warningComment="",this.duplicateCount=0,this.duplicateComment="",this.sourcesToImport=0,this.sourcesMatched=0,this.sourcesExcluded=0,this.sourcesCitationOnly=0,this.totalNonExcludedSources=0,this.placesMatched=0,this.placesUnmatched=0,this.matchesMatched=0,this.matchesUnmatched=0,this.matchesUndecided=0,this.updatesMade=0,this.updatesNotMade=0,this.personMap={},this.familyMap={},this.sourceMap={},this.placeMap={},this.placeTextMap={},this.people=[],this.families=[],this.sources=[],this.places=[],this.warnings=[],this.matches=[],this.updates=[]}return Object(P["a"])(e,[{key:"addPerson",value:function(e){this.people.push(e),this.personMap[e["@id"]]=e}},{key:"addFamily",value:function(e){this.families.push(e),this.familyMap[e["@id"]]=e}},{key:"addSource",value:function(e){this.sources.push(e),this.sourceMap[e["@id"]]=e}},{key:"addPlace",value:function(e){this.places.push(e),this.placeMap[e["@id"]]=e,this.placeTextMap[e["@text"]]=e}},{key:"getItemIndex",value:function(e,t){return e.findIndex((function(e){return e["@id"]===t["@id"]}))}},{key:"addUpdate",value:function(e,t){this.getItemIndex(e,t)>=0||e.push(t)}},{key:"remove",value:function(e,t){var n=this.getItemIndex(e,t);n>=0&&e.splice(n,1)}},{key:"addUpdateWarnings",value:function(e,t){for(var n=e["@warning"].split("|"),r=0;r<n.length;r++){var a=n[r],i={};if(e["@id"].includes("|"))i["@id"]=e["@id"],i["@warning"]=e["@warning"],i["@warningLevel"]=e["@warningLevel"];else{i["@id"]=e["@id"]+"|"+r.toString();var o=+a.substr(0,1);Number.isNaN(o)?(i["@warningLevel"]=1,i["@warning"]=a):(i["@warningLevel"]=o,i["@warning"]=a.substr(1))}i["@stdName"]=e["@stdName"],i["@ns"]=e["@ns"],+i["@ns"]===I["m"]?i["person"]=[e]:i["family"]=[e],t&&(i["@warningRead"]=t[i["@id"]]?"true":""),this.addUpdate(this.warnings,i)}}},{key:"removeWarnings",value:function(e){for(var t=e["@id"]+"|",n=this.warnings.length-1;n>=0;n--)this.warnings[n]["@id"].startsWith(t)&&this.remove(this.warnings,this.warnings[n])}},{key:"addUpdateMatch",value:function(e){this.addUpdate(this.matches,e)}},{key:"removeMatch",value:function(e){this.remove(this.matches,e)}},{key:"addUpdateUpdate",value:function(e){this.addUpdate(this.updates,e)}},{key:"removeUpdate",value:function(e){this.remove(this.updates,e)}}]),e}(),L=n("60b1"),N=n("c3a1"),F=5,W=2,B=4;function H(e,t,n){var r=new G;r.gedcomId=t;var a,i=n(r.gedcomId,I["r"]),o=n(r.gedcomId,I["s"]),c=Object(A["a"])(Object(T["a"])(e,"page"));try{for(c.s();!(a=c.n()).done;){var s=a.value,u=+s.getAttribute("namespace");if(u===I["m"]){var l=z("person",s);Object(I["X"])(l),r.addPerson(l)}else if(u===I["k"]){var d=z("family",s);Object(I["V"])(d),r.addFamily(d)}else if(u===I["l"]){var f=z("mysource",s);Object(I["W"])(f),f["@read"]=o[f["@id"]]?"true":"",r.addSource(f)}}}catch(b){c.e(b)}finally{c.f()}r.sourcesCitationOnly=+e.getAttribute("citation_only_sources"),X(r,e.getAttribute("primary_person")),!r.primaryPerson&&r.people.length>0&&(r.primaryPerson=r.people[0]);var p,h=Object(A["a"])(Object(T["a"])(e,"place"));try{for(h.s();!(p=h.n()).done;){var m=p.value,v={"@id":m.getAttribute("key"),"@ns":I["n"],"@text":m.getAttribute("text"),"@stdName":m.getAttribute("text").toLowerCase(),"@bestMatch":m.getAttribute("title")};v["@match"]=m.getAttribute("error")?"":m.getAttribute("title"),Object(I["S"])(v),v["@read"]=i[v["@id"]]?"true":"",r.addPlace(v)}}catch(b){h.e(b)}finally{h.f()}return r}function V(e,t){e.userName=t.getAttribute("username"),e.isOwner="true"===t.getAttribute("owner"),e.isAdmin="true"===t.getAttribute("admin"),Z(e,t.getAttribute("gedcomStatus")),X(e,t.getAttribute("primary"));var n,r=Object(A["a"])(Object(T["a"])(t,"result"));try{for(r.s();!(n=r.n()).done;){var a=n.value,i=Object(I["D"])(e,a.getAttribute("key"));if(i){var o=i.data,c=a.getAttribute("match"),s=Object(T["b"])(a);s&&(Object(I["ab"])(e,o,s),o["@edited"]="true"),a.getAttribute("exclude")&&+a.getAttribute("exclude")&&(o["@exclude"]=ee(a.getAttribute("exclude"))),a.getAttribute("living")&&+a.getAttribute("living")&&(o["@living"]=ee(a.getAttribute("living"))),a.getAttribute("merged")&&+a.getAttribute("merged")&&(o["@merged"]=ee(a.getAttribute("merged"))),c&&(c===I["h"]?(o["@match"]="",o["@nomatch"]="true"):o["@match"]=Object(I["N"])(c),Object(I["S"])(o)),a.getAttribute("matches")&&(o["@matches"]=a.getAttribute("matches"),Object(I["S"])(o))}}}catch(u){r.e(u)}finally{r.f()}}function $(e,t){Object(L["c"])(e),Q(e,t),q(e),e.status===I["v"]&&Object(N["i"])(e)}function z(e,t){var n=Object(I["C"])(e,Object(T["a"])(t,"content")[0].textContent);return n["@id"]=t.getAttribute("id")||"",n["@ns"]=t.getAttribute("namespace")||"",n["@exclude"]=t.getAttribute("exclude")||"",n["@living"]=t.getAttribute("living")||"",n["@beforeCutoff"]=t.getAttribute("beforeCutoff")||"",n["@match"]=t.getAttribute("match")||"",n["@matches"]=t.getAttribute("potentialMatches")||"",Object(I["S"])(n),n["@gedcomMatches"]=t.getAttribute("potentialMatches")||"",n["@warning"]=t.getAttribute("problems")||"",n}function q(e){var t,n=0,r=0,a=0,i=Object(A["a"])(e.people);try{for(i.s();!(t=i.n()).done;){var o=t.value;"true"===o["@exclude"]?r++:o["@match"]?a++:n++}}catch(V){i.e(V)}finally{i.f()}e.peopleToImport=n,e.peopleExcluded=r,e.peopleMatched=a;var c,s=0,u=0,l=0,d=Object(A["a"])(e.families);try{for(d.s();!(c=d.n()).done;){var f=c.value;"true"===f["@exclude"]?u++:f["@match"]?l++:s++}}catch(V){d.e(V)}finally{d.f()}e.familiesToImport=s,e.familiesExcluded=u,e.familiesMatched=l;var p,h=0,m=0,v=0,b=0,g=Object(A["a"])(e.warnings);try{for(g.s();!(p=g.n()).done;){var y=p.value;y["@warningLevel"]>=3&&b++,v+=+y["@warningLevel"],"true"===y["@warningRead"]?h++:m++}}catch(V){g.e(V)}finally{g.f()}var w=100*v/Math.max(n+a,1);e.warningCount=v,e.warningLevel=w,e.duplicateCount=b,e.warningsRead=h,e.warningsUnread=m;var O,x=0,k=0,j=0,_=Object(A["a"])(e.sources);try{for(_.s();!(O=_.n()).done;){var M=O.value;"true"===M["@exclude"]?k++:M["@match"]?j++:x++}}catch(V){_.e(V)}finally{_.f()}e.sourcesToImport=x,e.sourcesExcluded=k,e.sourcesMatched=j,e.totalNonExcludedSources=e.sourcesToImport+e.sourcesMatched+e.sourcesCitationOnly;var R,C=0,E=0,D=Object(A["a"])(e.places);try{for(D.s();!(R=D.n()).done;){var S=R.value;S["@match"]?C++:E++}}catch(V){D.e(V)}finally{D.f()}e.placesMatched=C,e.placesUnmatched=E;var I,T=0,U=0,P=0,G=Object(A["a"])(e.matches);try{for(G.s();!(I=G.n()).done;){var L=I.value;"true"===L["@nomatch"]?U++:L["@match"]?T++:P++}}catch(V){G.e(V)}finally{G.f()}e.matchesMatched=T,e.matchesUnmatched=U,e.matchesUndecided=P;var N,F=0,W=0,B=Object(A["a"])(e.updates);try{for(B.s();!(N=B.n()).done;){var H=N.value;"true"===H["@merged"]?F++:W++}}catch(V){B.e(V)}finally{B.f()}e.updatesMade=F,e.updatesNotMade=W,J(e)}function K(e){return e.warningCount<=F||e.warningLevel<W}function Y(e){return e.warningCount<=F||e.warningLevel<B}function J(e){if(K(e)?e.warningComment="":Y(e)?e.warningComment=S["warningsAboveLowerThreshold"]:e.warningComment=S["warningsAboveUpperThreshold"],e.duplicateCount?e.duplicateComment=S["internalDuplicates"]:e.duplicateComment="",e.isUpdatable=!1,e.isReturnable=!1,e.isHoldable=!1,e.isImportable=!1,e.isMatchable=!1,e.status===I["x"]){var t=[];e.warningsUnread>0&&t.push(S["notReadyWarnings"]),e.matchesUndecided>0&&t.push(S["notReadyFamilies"]),!Y(e)||e.duplicateCount>0?e.importInstructions=S["notImportable"]:t.length>0?e.importInstructions=S["notReady"]+t.join("; "):K(e)?e.importInstructions=S["phase2"]:e.importInstructions=S["probablyNotImportable"],e.isUpdatable=!0,e.isImportable=Y(e)&&0===e.duplicateCount&&0===t.length||e.isAdmin,e.isMatchable=Y(e)&&0===e.duplicateCount||e.isAdmin,e.isHoldable=e.isAdmin,e.nextSteps=S["nextsteps"]}else e.status===I["v"]?(e.nextSteps=S["onhold"],e.isUpdatable=!0,e.isReturnable=e.isAdmin):e.status===I["y"]||e.status===I["w"]?e.importInstructions=e.nextSteps=S["phase3"]:e.status===I["t"]&&e.isAdmin?(e.importInstructions=S["adminReviewAdmin"],e.nextSteps=S["nextsteps"],e.isUpdatable=!0,e.isReturnable=!0,e.isImportable=!0,e.isMatchable=!0):e.status===I["t"]?e.importInstructions=e.nextSteps=S["adminReview"]:0===e.status?e.importInstructions=e.nextSteps=S["statuszero"]:e.importInstructions=e.nextSteps=S["statusother"]+": "+e.status.toString();e.isMergeable=e.isUpdatable&&(K(e)&&0===e.duplicateCount||e.isAdmin)}function Q(e,t){var n,r=t(e.gedcomId,I["A"]),a=t(e.gedcomId,I["d"]),i=t(e.gedcomId,I["z"]),o=Object(A["a"])(e.people);try{for(o.s();!(n=o.n()).done;){var c=n.value;"true"!==c["@exclude"]&&(c["@warning"]&&e.addUpdateWarnings(c,r),"true"===c["@updated"]&&(c["@updateRead"]=i[c["@id"]]?"true":"",e.addUpdateUpdate(c)))}}catch(d){o.e(d)}finally{o.f()}var s,u=Object(A["a"])(e.families);try{for(u.s();!(s=u.n()).done;){var l=s.value;"true"!==l["@exclude"]&&(l["@warning"]&&e.addUpdateWarnings(l,r),(l["@match"]||l["@matches"])&&(l["@matchRead"]=a[l["@id"]]?"true":"",e.addUpdateMatch(l)),"true"===l["@updated"]&&(l["@updateRead"]=i[l["@id"]]?"true":"",e.addUpdateUpdate(l)))}}catch(d){u.e(d)}finally{u.f()}}function X(e,t){if(t){var n=e.personMap[t];n&&(e.primaryPerson=n)}}function Z(e,t){e.status=+t,J(e)}function ee(e){return e=+e,e>0?"true":e<0?"false":""}var te=n("cb70"),ne=n("a0d0"),re={model:{}},ae={GEDCOM_UPDATE_MODEL:function(e,t){e.model=t}},ie={gedcomRead:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,c,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=e.rootGetters,n.prev=1,n.next=4,Object(te["b"])(t);case 4:if(o=n.sent,o&&(!o.getAttribute("status")||"0"===o.getAttribute("status"))){n.next=13;break}return c=o?o.getAttribute("status"):"network error",console.log("gedcomRead status error",c),"-6"===c&&(alert("Your GEDCOM is no longer available for review"),Object(ne["c"])(te["a"])),"-2"===c&&(alert("Please sign in, then re-visit this page"),Object(ne["c"])(te["a"])),"-3"===c&&(alert("You are not authorized to view this GEDCOM"),Object(ne["c"])(te["a"])),a("notificationsAdd",{message:"There was a problem reading gedcom: "+c}),n.abrupt("return",null);case 13:return s=H(o,t,i.prefsGetReadItems),r("GEDCOM_UPDATE_MODEL",s),n.abrupt("return",s);case 18:n.prev=18,n.t0=n["catch"](1),console.log("gedcomRead error",n.t0),a("notificationsAdd",n.t0);case 22:case"end":return n.stop()}}),n,null,[[1,18]])})))()},gedcomReadData:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,c,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=e.state,o=e.rootGetters,n.prev=1,n.next=4,Object(te["c"])(t);case 4:if(c=n.sent,c&&(!c.getAttribute("status")||"0"===c.getAttribute("status"))){n.next=10;break}return s=c?c.getAttribute("status"):"network error",console.log("gedcomReadData error",s),a("notificationsAdd",{message:"There was a problem reading gedcom data: "+s}),n.abrupt("return",null);case 10:return u=Object(I["B"])(i.model),V(u,c),$(u,o.prefsGetReadItems),r("GEDCOM_UPDATE_MODEL",u),n.abrupt("return",u);case 17:n.prev=17,n.t0=n["catch"](1),console.log("gedcomReadData error",n.t0),a("notificationsAdd",n.t0);case 21:case"end":return n.stop()}}),n,null,[[1,17]])})))()},gedcomSetExclude:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,c,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=e.state,o=t.data,c=t.exclude,n.prev=2,s=Object(I["B"])(i.model),n.next=6,Object(N["f"])(s,o,c);case 6:return q(s),r("GEDCOM_UPDATE_MODEL",s),n.abrupt("return",s);case 11:n.prev=11,n.t0=n["catch"](2),console.log("gedcomSetExclude error",n.t0),a("notificationsAdd",n.t0);case 15:case"end":return n.stop()}}),n,null,[[2,11]])})))()},gedcomUpdateStatus:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,c,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=e.state,o=t.status,c=t.warning,n.prev=2,s=Object(I["B"])(i.model),n.next=6,Object(N["h"])(s,o,c);case 6:return q(s),r("GEDCOM_UPDATE_MODEL",s),n.abrupt("return",s);case 11:n.prev=11,n.t0=n["catch"](2),console.log("gedcomUpdateStatus error",n.t0),a("notificationsAdd",n.t0);case 15:case"end":return n.stop()}}),n,null,[[2,11]])})))()},gedcomPageUpdated:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=e.state,o=t.id,n.prev=2,c=Object(I["B"])(i.model),n.next=6,Object(N["e"])(c,o);case 6:q(c),r("GEDCOM_UPDATE_MODEL",c),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](2),console.log("gedcomPageUpdated error",n.t0),a("notificationsAdd",n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))()},gedcomMatchFound:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=e.state,o=t.title,n.prev=2,c=Object(I["B"])(i.model),n.next=6,Object(N["c"])(c,o);case 6:q(c),r("GEDCOM_UPDATE_MODEL",c),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](2),console.log("gedcomMatchFound error",n.t0),a("notificationsAdd",n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))()},gedcomMatchesFound:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,c,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=e.state,o=t.matchesString,c=t.merged,s=t.all,n.prev=2,u=Object(I["B"])(i.model),n.next=6,Object(N["d"])(u,o,c,s);case 6:q(u),r("GEDCOM_UPDATE_MODEL",u),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](2),console.log("gedcomMatchesFound error",n.t0),a("notificationsAdd",n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))()},gedcomUnmatch:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=e.state,o=t.data,n.prev=2,c=Object(I["B"])(i.model),n.next=6,Object(N["g"])(c,o);case 6:q(c),r("GEDCOM_UPDATE_MODEL",c),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](2),console.log("gedcomUnmatch error",n.t0),a("notificationsAdd",n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))()},gedcomUpdateData:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,a=t.component,i=t.data,o=Object(I["B"])(re.model),a===I["A"]&&(o.warnings[i["@id"]]=i),a===I["q"]&&(o.people[i["@id"]]=i),a===I["a"]&&(o.families[i["@id"]]=i),a===I["r"]&&(o.places[i["@id"]]=i),a===I["s"]&&(o.sources[i["@id"]]=i),a===I["d"]&&(o.matches[i["@id"]]=i),console.log("gedcomUpdateModel",o),q(o),r("GEDCOM_UPDATE_MODEL",o);case 12:case"end":return n.stop()}}),n)})))()}},oe=(n("99af"),n("b64b"),{getItem:function(e){return localStorage.getItem(e)},setItem:function(e,t){return localStorage.setItem(e,t)}}),ce={prefs:{readFlags:{},noShowTips:{}}},se={PREFS_UPDATE:function(e,t){e.prefs=t}},ue={prefsRead:function(e){var t=e.commit,n=e.state,r=e.dispatch,a=null;try{a=JSON.parse(oe.getItem("gedcom-review"))}catch(m){console.log("prefsRead error",m),r("notificationsAdd",{message:"There was an error reading preferences: "+m.message})}a||(a=n.prefs);try{for(var i=new Date,o=Math.round(i.getTime()/1e3),c=2678400,s=o-c,u=0,l=Object.keys(a.readFlags);u<l.length;u++){var d=l[u];a.readFlags[d]<s&&delete a.readFlags[d]}for(var f=0,p=Object.keys(a.noShowTips);f<p.length;f++){var h=p[f];a.noShowTips[h]<s&&delete a.nowShowTips[h]}oe.setItem("gedcom-review",JSON.stringify(a)),t("PREFS_UPDATE",a)}catch(m){r("notificationsAdd",{message:"There was an error updating preferences: "+m.message})}return a},prefsMarkRead:function(e,t){var n=e.commit,r=e.state,a=e.dispatch,i=t.model,o=t.data,c=t.component;try{var s=Object.assign({},r.prefs),u=!1;if(c!==I["r"]&&c!==I["s"]||"true"===o["@read"]?c===I["A"]&&"true"!==o["@warningRead"]?(Object(I["Z"])(i,o,"true"),u=!0):c===I["d"]&&"true"!==o["@matchRead"]?(Object(I["T"])(i,o,"true"),u=!0):c===I["z"]&&"true"!==o["@updateRead"]&&(Object(I["Y"])(i,o,"true"),u=!0):(Object(I["U"])(i,o,"true"),u=!0),u){var l=de(i.gedcomId,c,o["@id"]);s.readFlags[l]=Math.round((new Date).getTime()/1e3),a("gedcomUpdateData",{component:c,data:o})}oe.setItem("gedcom-review",JSON.stringify(s)),n("PREFS_UPDATE",s)}catch(d){a("notificationsAdd",{message:"There was an error updating preferences: "+d.message})}}},le={prefsGetReadItems:function(e){return function(t,n){for(var r={},a=de(t,n),i=0,o=Object.keys(e.prefs.readFlags);i<o.length;i++){var c=o[i];c.startsWith(a)&&(c=c.substr(a.length),r[c]=!0)}return r}}};function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return"".concat(e,"|").concat(t,"|").concat(n)}var fe=n("5530"),pe={notificationsList:[]},he=1,me={NOTIFICATIONS_PUSH:function(e,t){e.notificationsList.push(Object(fe["a"])(Object(fe["a"])({},t),{},{id:he++}))},NOTIFICATIONS_DELETE:function(e,t){e.notificationsList=e.notificationsList.filter((function(e){return e.id!==t}))}},ve={notificationsAdd:function(e,t){var n=e.commit,r="";t?t.message?r=t.message:t["@status"]&&(r=t["@status"]):r="Unknown error",n("NOTIFICATIONS_PUSH",{message:r,type:"error"})},notificationsRemove:function(e,t){var n=e.commit;n("NOTIFICATIONS_DELETE",t)}};o["a"].use(k["a"]);var be=new k["a"].Store({modules:{gedcom:r,prefs:a,notifications:i},state:{},mutations:{},actions:{},getters:{}}),ge={components:{Multipane:u["a"],MultipaneResizer:u["b"],Notifications:R},created:function(){var e=window.location.href.match(/gedcomId=(\d+)/),t=e?e[1]:0;console.log("gedcomId",t),be.dispatch("prefsRead").then((function(){be.dispatch("gedcomRead",t).then((function(){be.dispatch("gedcomReadData",t)}))}))},mounted:function(){E.a.configure({parent:"#container-wrapper"}),window.review={loadGedcomId:function(e){try{console.log("loadGedcomId",e)}catch(t){console.log("loadGedcomId error",t)}},matchFound:function(e){try{be.dispatch("gedcomMatchFound",{title:e})}catch(t){console.log("matchFound error",t)}},matchesFound:function(e,t,n){try{be.dispatch("gedcomMatchesFound",{matchesString:e,merged:t,all:n})}catch(r){console.log("matchesFound error",r)}},pageUpdated:function(e){try{be.dispatch("gedcomPageUpdated",{id:e})}catch(t){console.log("pageUpdated error",t)}}}},props:{source:String},data:function(){return{dialog:!1,items:[{icon:"mdi-home",text:"Overview",link:"/"},{icon:"mdi-alert",text:"Warnings",link:"/warnings"},{icon:"mdi-account",text:"People",link:"/people"},{icon:"mdi-account-group",text:"Families",link:"/families"},{icon:"mdi-map-marker",text:"Places",link:"/places"},{icon:"mdi-bookshelf",text:"Sources",link:"/sources"},{icon:"mdi-link",text:"Matches",link:"/matches"},{icon:"mdi-import",text:"Import",link:"/import"}]}},computed:{bottomHeight:function(){return 400}}},ye=ge,we=(n("034f"),n("7496")),Oe=n("a523"),xe=n("132d"),ke=n("8860"),je=n("da13"),_e=n("1800"),Me=n("5d23"),Re=n("f6c4"),Ce=n("f774"),Ee=n("0fd9"),De=Object(v["a"])(ye,c,s,!1,null,null,null),Ae=De.exports;g()(De,{VApp:we["a"],VContainer:Oe["a"],VIcon:xe["a"],VList:ke["a"],VListItem:je["a"],VListItemAction:_e["a"],VListItemContent:Me["a"],VListItemTitle:Me["b"],VMain:Re["a"],VNavigationDrawer:Ce["a"],VRow:Ee["a"]});var Se=n("8c4f"),Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"overview",attrs:{fluid:""}},[n("v-row",[n("v-col",[n("h3",[e._v("Instructions")])])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{offset:"1"}},[e._v(" "+e._s(e.gedcom.model.nextSteps)+" ")])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"3",offset:"1"}},[n("v-btn",{attrs:{small:""},on:{click:e.returnToWeRelate}},[e._v(" Return to WeRelate ")])],1),n("v-col",[e._v(" Finish your review later ")])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"3",offset:"1"}},[n("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{small:"",disabled:!e.gedcom.model.isUpdatable}},"v-btn",a,!1),r),[e._v(" Remove this GEDCOM ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v(" Are you sure? ")]),n("v-card-text",[e._v(" If you remove your GEDCOM, the work you have done to prepare your GEDCOM for import will be lost. ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.removeGedcom}},[e._v(" Remove ")])],1)],1)],1)],1),n("v-col",[e._v(" In case you change your mind about uploading this GEDCOM, you can remove it. ")])],1),n("v-row",[n("v-col",[n("h3",[e._v("Quality")])])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"label",attrs:{cols:"2"}},[e._v(" Warning level: ")]),n("v-col",{attrs:{cols:"2"}},[e._v(" "+e._s(e._f("percent")(e.gedcom.model.warningLevel))+" ")]),n("v-col",[e._v(" "+e._s(e.gedcom.model.warningComment)+" ")])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"label",attrs:{cols:"2"}},[e._v(" Duplicates: ")]),n("v-col",{attrs:{cols:"2"}},[e._v(" "+e._s(e.gedcom.model.duplicateCount)+" ")]),n("v-col",[e._v(" "+e._s(e.gedcom.model.duplicateComment)+" ")])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"label",attrs:{cols:"2"}},[e._v(" Sources: ")]),n("v-col",[e._v(" "+e._s(e.gedcom.model.totalNonExcludedSources)+" ")])],1),n("v-row",[n("v-col",[n("h3",[e._v("Root")])])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{offset:"1"}},[e._v(" "+e._s(e.primaryPersonFullName)+" "+e._s(e.primaryPersonBirthDate)+" - "+e._s(e.primaryPersonDeathDate)+" ")])],1),n("v-row",[n("v-col",[n("h3",[e._v("Statistics")])])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"label",attrs:{cols:"2"}},[e._v(" People: ")]),n("v-col",{attrs:{cols:"2"}},[e._v(" "+e._s(e.gedcom.model.peopleToImport)+" / "+e._s(e.gedcom.model.peopleMatched)+" / "+e._s(e.gedcom.model.peopleExcluded)+" ")]),n("v-col",[e._v(" to be imported / matched / excluded ")])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"label",attrs:{cols:"2"}},[e._v(" Families: ")]),n("v-col",{attrs:{cols:"2"}},[e._v(" "+e._s(e.gedcom.model.familiesToImport)+" / "+e._s(e.gedcom.model.familiesMatched)+" / "+e._s(e.gedcom.model.familiesExcluded)+" ")]),n("v-col",[e._v(" to be imported / matched / excluded ")])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"label",attrs:{cols:"2"}},[e._v(" Warnings: ")]),n("v-col",{attrs:{cols:"2"}},[e._v(" "+e._s(e.gedcom.model.warningsRead)+" / "+e._s(e.gedcom.model.warningsUnread)+" ")]),n("v-col",[e._v(" read / unread ")])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"label",attrs:{cols:"2"}},[e._v(" Places: ")]),n("v-col",{attrs:{cols:"2"}},[e._v(" "+e._s(e.gedcom.model.placesMatched)+" / "+e._s(e.gedcom.model.placesUnmatched)+" ")]),n("v-col",[e._v(" matched / not matched ")])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"label",attrs:{cols:"2"}},[e._v(" Sources: ")]),n("v-col",{attrs:{cols:"2"}},[e._v(" "+e._s(e.gedcom.model.sourcesToImport)+" / "+e._s(e.gedcom.model.sourcesMatched)+" / "+e._s(e.gedcom.model.sourcesExcluded)+" / "+e._s(e.gedcom.model.sourcesCitationOnly)+" ")]),n("v-col",[e._v(" to be imported / matched / excluded / citation-only ")])],1),n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"label",attrs:{cols:"2"}},[e._v(" Family Matches: ")]),n("v-col",{attrs:{cols:"2"}},[e._v(" "+e._s(e.gedcom.model.matchesMatched)+" / "+e._s(e.gedcom.model.matchesUnmatched)+" / "+e._s(e.gedcom.model.matchesUndecided)+" ")]),n("v-col",[e._v(" matched / not matched / undecided ")])],1)],1)},Te=[],Ue={name:"Overview",mounted:function(){Object(N["b"])(I["b"][I["p"]])},data:function(){return{dialog:!1}},computed:Object(fe["a"])({primaryPersonFullName:function(){return Object(I["K"])(this.gedcom.model.primaryPerson)},primaryPersonBirthDate:function(){return(Object(I["F"])(this.gedcom.model.primaryPerson,"Birth")||{})["@data"]},primaryPersonDeathDate:function(){return(Object(I["F"])(this.gedcom.model.primaryPerson,"Death")||{})["@data"]}},Object(k["c"])(["gedcom"])),methods:{returnToWeRelate:function(){try{Object(ne["c"])(te["a"])}catch(e){this.$store.dispatch("notificationsAdd",e)}},removeGedcom:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("gedcomUpdateStatus",{status:I["u"]});case 3:Object(ne["c"])(te["a"]),t.next=10;break;case 6:return t.prev=6,t.t0=t["catch"](0),t.next=10,e.$store.dispatch("notificationsAdd",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}},Pe=Ue,Ge=(n("a45d"),n("b0af")),Le=n("99d9"),Ne=n("62ad"),Fe=n("169a"),We=n("2fa4"),Be=Object(v["a"])(Pe,Ie,Te,!1,null,null,null),He=Be.exports;g()(Be,{VBtn:y["a"],VCard:Ge["a"],VCardActions:Le["a"],VCardText:Le["b"],VCardTitle:Le["c"],VCol:Ne["a"],VContainer:Oe["a"],VDialog:Fe["a"],VRow:Ee["a"],VSpacer:We["a"]});var Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Oops!")]),n("h3",[e._v("The "+e._s(e.resource)+" you're looking for is not here.")]),n("router-link",{attrs:{to:"/"}},[e._v("Back to the home page")])],1)},$e=[],ze={props:{resource:{type:String,required:!0}}},qe=ze,Ke=Object(v["a"])(qe,Ve,$e,!1,null,null,null),Ye=Ke.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Uh-Oh!")]),n("h3",[e._v(" It looks like you're experiencing some network issues, please click the back button and try again. ")]),n("router-link",{attrs:{to:"/"}},[e._v("Or go back to the home page")])],1)},Qe=[],Xe={},Ze=Object(v["a"])(Xe,Je,Qe,!1,null,null,null),et=Ze.exports;o["a"].use(Se["a"]);var tt=[{path:"/",name:"overview",component:He},{path:"/warnings",name:"warnings",component:function(){return n.e("about").then(n.bind(null,"1de5"))}},{path:"/people",name:"people",component:function(){return n.e("about").then(n.bind(null,"bea6"))}},{path:"/families",name:"families",component:function(){return n.e("about").then(n.bind(null,"b1a8"))}},{path:"/places",name:"places",component:function(){return n.e("about").then(n.bind(null,"d377"))}},{path:"/sources",name:"sources",component:function(){return n.e("about").then(n.bind(null,"2e20"))}},{path:"/matches",name:"matches",component:function(){return n.e("about").then(n.bind(null,"06d6"))}},{path:"/import",name:"import",meta:{requiresAuth:!0},component:function(){return n.e("about").then(n.bind(null,"7989"))}},{path:"/404",name:"404",component:Ye,props:!0},{path:"/network-issue",name:"network-issue",component:et},{path:"*",redirect:{name:"404",params:{resource:"page"}}}],nt=new Se["a"]({mode:"hash",routes:tt});nt.beforeEach((function(e,t,n){E.a.start(),n()})),nt.afterEach((function(){E.a.done()}));var rt=nt,at=(n("a5d8"),n("1dce")),it=n.n(at),ot=n("f309"),ct=n("fcf4");o["a"].use(ot["a"]);var st=new ot["a"]({theme:{themes:{light:{primary:ct["a"].cyan.darken2,secondary:ct["a"].cyan.lighten4,accent:ct["a"].orange.darken3,error:"#b71c1c"}}}}),ut=n("1e7d"),lt=n.n(ut);o["a"].use(it.a),o["a"].use(lt.a),o["a"].config.productionTip=!1;var dt=n("ef13");dt.keys().forEach((function(e){var t=dt(e),n=e.replace(/^\.\/(.*)\.\w+$/,"$1");o["a"].component(n,t.default||t)})),o["a"].filter("formatSize",(function(e){return e>1099511627776?(e/1024/1024/1024/1024).toFixed(2)+" TB":e>1073741824?(e/1024/1024/1024).toFixed(2)+" GB":e>1048576?(e/1024/1024).toFixed(2)+" MB":e>1024?(e/1024).toFixed(2)+" KB":e.toString()+" B"})),o["a"].filter("percent",(function(e){return e+"%"})),new o["a"]({router:rt,store:be,vuetify:st,render:function(e){return e(Ae)}}).$mount("#app")},"60b1":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n("b85c"),a=n("2822");function i(e){var t,n=Object(r["a"])(e.people);try{for(n.s();!(t=n.n()).done;){var i=t.value;i["@distance"]=a["i"]}}catch(u){n.e(u)}finally{n.f()}var o,c=Object(r["a"])(e.families);try{for(c.s();!(o=c.n()).done;){var s=o.value;s["@distance"]=a["i"]}}catch(u){c.e(u)}finally{c.f()}null!==e.primaryPerson&&e.people.length<=a["e"]&&(e.primaryPerson["@distance"]=0,d(e,e.primaryPerson,null))}function o(e,t,n){if(t["@exclude"]="false",n.push(t),+t["@ns"]===a["m"]||+t["@ns"]===a["k"]){var i,c=Object(r["a"])(t["source_citation"]||[]);try{for(c.s();!(i=c.n()).done;){var s=i.value,l=s["@source_id"];if(l){var f=e.sourceMap[l];f&&"true"===f["@exclude"]&&o(e,f,n)}}}catch(p){c.e(p)}finally{c.f()}}(+t["@ns"]===a["m"]||+t["@ns"]===a["k"])&&e.people.length<=a["e"]&&(t["@distance"]=u(e,t),t["@distance"]!==a["i"]&&d(e,t,n)),+t["@ns"]===a["m"]&&m(e,t,n)}function c(e,t,n){if(t["@exclude"]="true",n.push(t),+t["@ns"]===a["m"]||+t["@ns"]===a["k"]){var i,o=Object(r["a"])(t["source_citation"]||[]);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s["@source_id"];if(u){var l=e.sourceMap[u];if(l){var d,f=!1,p=Object(r["a"])(Object(a["M"])(e,l));try{for(p.s();!(d=p.n()).done;){var h=d.value;if("true"!==h["@exclude"]){f=!0;break}}}catch(m){p.e(m)}finally{p.f()}f||c(e,l,n)}}}}catch(m){o.e(m)}finally{o.f()}}t["@ns"]===a["m"]&&b(e,t,n)}function s(e,t,n){var r=g(e,t,n);return r?r["@distance"]:a["i"]}function u(e,t){if(0===t["@distance"])return 0;var n=a["i"];if(+t["@ns"]===a["m"]){var i,o=Object(r["a"])(t["child_of_family"]||[]);try{for(o.s();!(i=o.n()).done;){var c=i.value;n=Math.min(n,s(e,c["@id"],a["k"]))}}catch(O){o.e(O)}finally{o.f()}var u,l=Object(r["a"])(t["spouse_of_family"]||[]);try{for(l.s();!(u=l.n()).done;){var d=u.value;n=Math.min(n,s(e,d["@id"],a["k"]))}}catch(O){l.e(O)}finally{l.f()}}else{var f,p=Object(r["a"])(t["husband"]||[]);try{for(p.s();!(f=p.n()).done;){var h=f.value;n=Math.min(n,s(e,h["@id"],a["m"]))}}catch(O){p.e(O)}finally{p.f()}var m,v=Object(r["a"])(t["wife"]||[]);try{for(v.s();!(m=v.n()).done;){var b=m.value;n=Math.min(n,s(e,b["@id"],a["m"]))}}catch(O){v.e(O)}finally{v.f()}var g,y=Object(r["a"])(t["child"]||[]);try{for(y.s();!(g=y.n()).done;){var w=g.value;n=Math.min(n,s(e,w["@id"],a["m"]))}}catch(O){y.e(O)}finally{y.f()}}return n!==a["i"]&&(n+=1),n}function l(e,t,n,r,a){var i=g(e,t,n);i&&i["@distance"]>a+1&&(i["@distance"]=a+1,d(e,i,r))}function d(e,t,n){var i=t["@distance"];if(+t["@ns"]===a["m"]){var o,c=Object(r["a"])(t["child_of_family"]||[]);try{for(c.s();!(o=c.n()).done;){var s=o.value;l(e,s["@id"],a["k"],n,i)}}catch(x){c.e(x)}finally{c.f()}var u,d=Object(r["a"])(t["spouse_of_family"]||[]);try{for(d.s();!(u=d.n()).done;){var f=u.value;l(e,f["@id"],a["k"],n,i)}}catch(x){d.e(x)}finally{d.f()}}else{var p,h=Object(r["a"])(t["husband"]||[]);try{for(h.s();!(p=h.n()).done;){var m=p.value;l(e,m["@id"],a["m"],n,i)}}catch(x){h.e(x)}finally{h.f()}var v,b=Object(r["a"])(t["wife"]||[]);try{for(b.s();!(v=b.n()).done;){var g=v.value;l(e,g["@id"],a["m"],n,i)}}catch(x){b.e(x)}finally{b.f()}var y,w=Object(r["a"])(t["child"]||[]);try{for(w.s();!(y=w.n()).done;){var O=y.value;l(e,O["@id"],a["m"],n,i)}}catch(x){w.e(x)}finally{w.f()}}}function f(e,t,n){var r=g(e,t,n);return"true"===r["@exclude"]}function p(e,t){var n,i=0,o=Object(r["a"])(t["husband"]||[]);try{for(o.s();!(n=o.n()).done;){var c=n.value;f(e,c["@id"],a["m"])||i++}}catch(m){o.e(m)}finally{o.f()}var s,u=Object(r["a"])(t["wife"]||[]);try{for(u.s();!(s=u.n()).done;){var l=s.value;f(e,l["@id"],a["m"])||i++}}catch(m){u.e(m)}finally{u.f()}var d,p=Object(r["a"])(t["child"]||[]);try{for(p.s();!(d=p.n()).done;){var h=d.value;f(e,h["@id"],a["m"])||i++}}catch(m){p.e(m)}finally{p.f()}return i}function h(e,t,n){var r=g(e,t,a["k"]);r&&"true"===r["@exclude"]&&p(e,r)>1&&o(e,r,n)}function m(e,t,n){var a,i=Object(r["a"])(t["child_of_family"]||[]);try{for(i.s();!(a=i.n()).done;){var o=a.value;h(e,o["@id"],n)}}catch(l){i.e(l)}finally{i.f()}var c,s=Object(r["a"])(t["spouse_of_family"]||[]);try{for(s.s();!(c=s.n()).done;){var u=c.value;h(e,u["@id"],n)}}catch(l){s.e(l)}finally{s.f()}}function v(e,t,n){var r=g(e,t,a["k"]);r&&"true"!==r["@exclude"]&&p(e,r)<=1&&c(e,r,n)}function b(e,t,n){var a,i=Object(r["a"])(t["child_of_family"]||[]);try{for(i.s();!(a=i.n()).done;){var o=a.value;v(e,o["@id"],n)}}catch(l){i.e(l)}finally{i.f()}var c,s=Object(r["a"])(t["spouse_of_family"]||[]);try{for(s.s();!(c=s.n()).done;){var u=c.value;v(e,u["@id"],n)}}catch(l){s.e(l)}finally{s.f()}}function g(e,t,n){return n===a["m"]?e.personMap[t]:e.familyMap[t]}},"80b7":function(e,t,n){},"85ec":function(e,t,n){},a0d0:function(e,t,n){"use strict";function r(e){document.getElementById("iframe").src=e}function a(e){window.location.href=e}function i(e){window.open(e,"","height=600,width=700,scrollbars=yes,resizable=yes,toolbar=yes,menubar=no,location=no,directories=no")}n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i}))},a45d:function(e,t,n){"use strict";var r=n("80b7"),a=n.n(r);a.a},c3a1:function(e,t,n){"use strict";n.d(t,"i",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"h",(function(){return O})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return E}));n("caad"),n("c975"),n("b0c0"),n("ac1f"),n("466d"),n("5319"),n("1276"),n("498a"),n("96cf");var r=n("b85c"),a=n("1da1"),i=n("2822"),o=n("cb70"),c=n("3fa2"),s=n("a0d0"),u=n("60b1"),l=n("4ac7"),d=0,f=1,p=2,h=null;function m(e){g("User talk:"+e.userName)}function v(e,t,n){return b.apply(this,arguments)}function b(){return b=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=59;break}if(r!==i["q"]&&r!==i["a"]){e.next=6;break}return e.next=4,ve(t,n);case 4:e.next=57;break;case 6:if(r!==i["s"]){e.next=19;break}if(t.isMatchable){e.next=11;break}g(i["j"]),e.next=17;break;case 11:if(!n["@match"]){e.next=15;break}De(n),e.next=17;break;case 15:return e.next=17,ve(t,n);case 17:e.next=57;break;case 19:if(r!==i["A"]){e.next=24;break}return e.next=22,ve(t,Object(i["P"])(n));case 22:e.next=57;break;case 24:if(r!==i["r"]){e.next=37;break}if(t.isMatchable){e.next=29;break}g(i["j"]),e.next=35;break;case 29:if(!n["@match"]){e.next=33;break}De(n),e.next=35;break;case 33:return e.next=35,ue(t,n,r);case 35:e.next=57;break;case 37:if(t.isMatchable){e.next=41;break}g(i["j"]),e.next=57;break;case 41:if(!n["@match"]){e.next=50;break}if(!t.isMergeable||"true"===n["@merged"]){e.next=47;break}return e.next=45,de(t,n);case 45:e.next=48;break;case 47:De(n);case 48:e.next=57;break;case 50:if(!n["@matches"]){e.next=55;break}return e.next=53,he(t,n);case 53:e.next=57;break;case 55:return e.next=57,ue(t,n,r);case 57:e.next=60;break;case 59:t.status===i["v"]&&1===r?m():g(i["b"][r]);case 60:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="";r+=t?"/w/index.php?title="+Object(c["b"])(e)+"&"+Object(c["d"])(t):"/wiki/"+Object(c["b"])(e),n?Object(s["b"])(r):Object(s["a"])(r)}function y(e,t){return w.apply(this,arguments)}function w(){return w=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,c,s,u,d,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["d"])(t.gedcomId,n);case 2:if(r=e.sent,r=Object(l["e"])(r),!r||"0"!==r["@status"]){e.next=22;break}if(a=Object(i["D"])(t,r["@key"]),!a||!r["#text"]){e.next=20;break}if(c=ke(a.data),Object(i["ab"])(t,a.data,r["#text"]),s=(Object(i["F"])(a.data,"Death")||{})["@date"],u=(Object(i["F"])(a.data,"Death")||{})["@place"],d=(Object(i["F"])(a.data,"Burial")||{})["@date"],f=(Object(i["F"])(a.data,"Burial")||{})["@place"],"true"!==a.data["@living"]||!(A(s)||A(u)||A(d)||A(f))){e.next=16;break}return e.next=16,z(t,a.data,"false");case 16:return a.data["@edited"]="true",p=ke(a.data),e.next=20,ie(t,c,p);case 20:e.next=24;break;case 22:throw console.log("pageUpdated error",r),r;case 24:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function O(e,t,n){return x.apply(this,arguments)}function x(){return x=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["j"])(t.gedcomId,n,r);case 2:if(a=e.sent,a=Object(l["e"])(a),a&&"0"===a["@status"]){e.next=7;break}throw console.log("gedcomUpdateStatus error",a),a;case 7:t.status=n;case 8:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function k(e,t){return j.apply(this,arguments)}function j(){return j=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P(t,h,n);case 2:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function _(e,t,n,r){return M.apply(this,arguments)}function M(){return M=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a,o){var c,s,u,l,f,p,m,v,b,g,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=n.trim(),!(n.length>0)){e.next=30;break}c=n.split("\n"),s=[],u=[],l=Object(r["a"])(c),e.prev=6,l.s();case 8:if((f=l.n()).done){e.next=17;break}if(p=f.value,m=!1,v=p.split("|",2),2===v.length&&(b=v[0],g=Object(i["D"])(t,v[1]),b&&g&&(y=g.data,s.push(y),u.push(b),m=!0)),m){e.next=15;break}throw{message:'Invalid match: please contact dallan@werelate.org", "Unable to process match'};case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](6),l.e(e.t0);case 22:return e.prev=22,l.f(),e.finish(22);case 25:if(!(s.length>0)){e.next=28;break}return e.next=28,L(t,s,u,!0,a,o?T:S);case 28:e.next=34;break;case 30:return e.next=32,P(t,h,"");case 32:return e.next=34,ge(t,h,d);case 34:case"end":return e.stop()}}),e,null,[[6,19,22,25]])}))),M.apply(this,arguments)}function R(e,t,n){return C.apply(this,arguments)}function C(){return C=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o,c,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=[],"true"===r?Object(u["a"])(t,n,a):Object(u["b"])(t,n,a),o=[],c=0,s=a;c<s.length;c++)l=s[c],Object(i["Q"])(t,l),o.push(l["@id"]);if(!(o.length>0)){e.next=7;break}return e.next=7,B(t,r,o);case 7:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function E(e,t){return D.apply(this,arguments)}function D(){return D=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,o,c,s,u,l,d,f,p,h,m,v,b,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(+n["@ns"]!==i["k"]){e.next=13;break}a=[t.familyMap[n["@id"]]],o=[""],c=Object(r["a"])(n["husband"]||[]);try{for(c.s();!(s=c.n()).done;)u=s.value,l=t.personMap[u["@id"]],a.push(l),o.push("")}catch(y){c.e(y)}finally{c.f()}d=Object(r["a"])(n["wife"]||[]);try{for(d.s();!(f=d.n()).done;)p=f.value,h=t.personMap[p["@id"]],a.push(h),o.push("")}catch(y){d.e(y)}finally{d.f()}m=Object(r["a"])(n["child"]||[]);try{for(m.s();!(v=m.n()).done;)b=v.value,g=t.personMap[b["@id"]],a.push(g),o.push("")}catch(y){m.e(y)}finally{m.f()}return e.next=11,L(t,a,o);case 11:e.next=15;break;case 13:return e.next=15,P(t,n,"");case 15:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function A(e){return e&&e.length>0&&"living"!==e.toLowerCase()&&"private"!==e.toLowerCase()}function S(e,t,n,r){return I.apply(this,arguments)}function I(){return I=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ge(t,h,n?p:f);case 2:if(!(r.length>0)){e.next=5;break}return e.next=5,X(t,r,a);case 5:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function T(e,t,n,r){return U.apply(this,arguments)}function U(){return U=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ge(t,h,n?p:f);case 2:for(i=[],o=0;o<a.length;o++)i.push(ee(r[o],a[o]));return e.next=6,re(t,i);case 6:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function P(e,t,n){return G.apply(this,arguments)}function G(){return G=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,c,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=!(s.length>3&&void 0!==s[3])||s[3],i=s.length>4&&void 0!==s[4]&&s[4],o=[],o.push(n),c=[],c.push(r),e.next=8,L(t,o,c,a,i);case 8:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function L(e,t,n){return N.apply(this,arguments)}function N(){return N=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o,c,s,u,l,d,f,p,h,m,v=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=!(v.length>3&&void 0!==v[3])||v[3],o=v.length>4&&void 0!==v[4]&&v[4],c=v.length>5&&void 0!==v[5]?v[5]:null,s=[],u=[],l=[],d=[],f=o?"true":"false",p=0;p<n.length;p++)h=n[p]["@match"]!==r[p],n[p]["@match"]=r[p],m=n[p]["@merged"]!==f,!r[p]||h||"true"!==n[p]["@merged"]||o?n[p]["@merged"]=f:m=!1,r[p]?n[p]["@nomatch"]="":(n[p]["@nomatch"]="true",n[p]["@matches"]=n[p]["@gedcomMatches"]),Object(i["S"])(n[p]),Object(i["Q"])(t,n[p]),a&&(h||!o?(r[p]?d.push(Object(i["L"])(+n[p]["@ns"]===i["l"]?i["o"]:n[p]["@ns"],r[p])):d.push(i["h"]),s.push(n[p]["@id"]),l.push(n[p]["@merged"])):m&&u.push(n[p]["@id"]));if(!a){e.next=20;break}if(!(u.length>0)){e.next=13;break}return e.next=13,K(t,f,u);case 13:if(!(s.length>0)){e.next=18;break}return e.next=16,J(t,o,d,l,s,c);case 16:e.next=20;break;case 18:return e.next=20,c(t,o,[],[]);case 20:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function F(e,t,n,r){return W.apply(this,arguments)}function W(){return W=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["i"])(t.gedcomId,n,r,a);case 2:if(i=e.sent,i=Object(l["e"])(i),i&&"0"===i["@status"]){e.next=7;break}throw console.log("saveFlag error",i),i;case 7:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function B(e,t,n){return H.apply(this,arguments)}function H(){return H=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F(t,"exclude",Ee(n),r);case 2:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function V(e,t,n){return $.apply(this,arguments)}function $(){return $=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F(t,"living",Ee(n),r);case 2:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function z(e,t,n){return q.apply(this,arguments)}function q(){return q=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a){var o,c,s,u,l,d,f,p,h,m,v,b,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n["@living"]=a,Object(i["Q"])(t,n),e.next=4,V(t,n["@living"],n["@id"]);case 4:if(+n["@ns"]!==i["m"]){e.next=30;break}o=Object(r["a"])(n["spouse_of_family"]),e.prev=6,o.s();case 8:if((c=o.n()).done){e.next=22;break}if(s=c.value,u=t.familyMap[s["@id"]],!u){e.next=20;break}l="false",d=Object(r["a"])(u["husband"]);try{for(d.s();!(f=d.n()).done;)p=f.value,h=t.personMap[p["@id"]],h&&"true"===h["@living"]&&(l="true")}catch(y){d.e(y)}finally{d.f()}m=Object(r["a"])(u["wife"]);try{for(m.s();!(v=m.n()).done;)b=v.value,g=t.personMap[b["@id"]],g&&"true"===g["@living"]&&(l="true")}catch(y){m.e(y)}finally{m.f()}if(u["@living"]===l){e.next=20;break}return e.next=20,z(t,u,l);case 20:e.next=8;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](6),o.e(e.t0);case 27:return e.prev=27,o.f(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[6,24,27,30]])}))),q.apply(this,arguments)}function K(e,t,n){return Y.apply(this,arguments)}function Y(){return Y=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F(t,"merged",Ee(n),r);case 2:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}function J(e,t,n,r,a,i){return Q.apply(this,arguments)}function Q(){return Q=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a,c,s,u){var d,f,p,h,m,v,b,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["f"])(t.gedcomId,a,c,s);case 2:if(d=e.sent,d=Object(l["e"])(d),d&&"0"===d["@status"]){e.next=9;break}throw console.log("saveMatches error",d),d;case 9:f=[],p=[],h=Object(r["a"])(d["match"]||[]);try{for(h.s();!(m=h.n()).done;)v=m.value,b=v["@id"],g=Object(i["D"])(t,b),g&&g.component===i["q"]&&xe(t,g.data,v,i["g"],p,f)}catch(y){h.e(y)}finally{h.f()}if(!u){e.next=16;break}return e.next=16,u(t,n,p,f);case 16:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function X(e,t,n){return Z.apply(this,arguments)}function Z(){return Z=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,c,s,u,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=!(d.length>3&&void 0!==d[3])||d[3],c=[],s=0;s<n.length;s++)n[s]["@matches"]=r[s].length>0?r[s]:n[s]["@gedcomMatches"],Object(i["S"])(n[s]),Object(i["Q"])(t,n[s]),a&&(c[s]=n[s]["@id"]);if(!a){e.next=11;break}return e.next=6,Object(o["g"])(t.gedcomId,r,c);case 6:if(u=e.sent,u=Object(l["e"])(u),u&&"0"===u["@status"]){e.next=11;break}throw console.log("setPotentialMatches error",u),u;case 11:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function ee(e,t){return t+"|"+e["@id"]}function te(e,t,n,r){return ne.apply(this,arguments)}function ne(){return ne=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a,c){var s,u,d,f,p,h,m,v,b,g,y,w,O,x,k;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=je(t,a),s["@match"]=c,s["@id"]=a["@id"],e.next=5,Object(o["e"])(s);case 5:if(u=e.sent,u=Object(l["e"])(u),u&&"0"===u["@status"]){e.next=10;break}throw console.log("matchFamily error",u),u;case 10:d=[],f=[],p=[],h=[],m=[],v=[],b=Object(r["a"])(u.match);try{for(b.s();!(g=b.n()).done;)y=g.value,w=y["@id"],O=Object(i["D"])(t,w),x=O.data,y["@match"]?(p.push(x),m.push(Object(i["N"])(y["@match"])),O.component===i["q"]&&xe(t,x,y,i["g"],d,f)):y["@matches"]&&(h.push(x),v.push(y["@matches"]))}catch(j){b.e(j)}finally{b.f()}if(!(p.length>0)){e.next=21;break}return e.next=21,L(p,m,!1);case 21:if(!(h.length>0)){e.next=24;break}return e.next=24,X(h,v,!1);case 24:for(k=0;k<d.length;k++)n.push(ee(d[k],f[k]));case 25:case"end":return e.stop()}}),e)}))),ne.apply(this,arguments)}function re(e,t){return ae.apply(this,arguments)}function ae(){return ae=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=10;break}if(r=n.pop(),a=r.split("|",2),i=a[0],o=t.familyMap[a[1]],"true"===o["@exclude"]||"true"===o["@living"]||o["@match"]){e.next=8;break}return e.next=8,te(t,n,o,i);case 8:e.next=0;break;case 10:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function ie(e,t,n){return oe.apply(this,arguments)}function oe(){return oe=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a){var o,c,s,u,l,d,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=Object(r["a"])(a),e.prev=1,o.s();case 3:if((c=o.n()).done){e.next=12;break}if(s=c.value,n.contains(s)){e.next=10;break}if(u=t.sourceMap[s],!u||"true"!==u["@exclude"]){e.next=10;break}return e.next=10,R(t,u,"false");case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),o.e(e.t0);case 17:return e.prev=17,o.f(),e.finish(17);case 20:l=Object(r["a"])(n),e.prev=21,l.s();case 23:if((d=l.n()).done){e.next=32;break}if(f=d.value,a.contains(f)){e.next=30;break}if(p=t.sourceMap[f],!p||"true"===p["@exclude"]||0!==Object(i["M"])(t,p).length){e.next=30;break}return e.next=30,R(t,p,"true");case 30:e.next=23;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e["catch"](21),l.e(e.t1);case 37:return e.prev=37,l.f(),e.finish(37);case 40:case"end":return e.stop()}}),e,null,[[1,14,17,20],[21,34,37,40]])}))),oe.apply(this,arguments)}function ce(e){return e.replace(/^[ ,]+|[ ,]+$/g,"")}function se(e){var t=ce(e["@text"]),n="",r=t.indexOf(",");return r>0&&(n=ce(t.substr(r+1)),t=ce(t.substr(0,r))),[t,n]}function ue(e,t,n){return le.apply(this,arguments)}function le(){return le=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,c,s,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isUpdatable){e.next=2;break}return e.abrupt("return",!1);case 2:if(h=n,+n["@ns"]!==i["k"]&&+n["@ns"]!==i["m"]){e.next=23;break}return a=je(t,n),e.next=7,Object(o["h"])(a);case 7:if(c=e.sent,c=Object(l["e"])(c),!c||"0"!==c["@status"]){e.next=19;break}s={},s.ns=i["f"][+n["@ns"]],s.match="on",s.pagetitle=Object(i["H"])(t,n),s.gedcomtab=Object(i["E"])(+n["@ns"]),s.gedcomkey=n["@id"],g("Special:Search",s),e.next=21;break;case 19:throw console.log("findAddItem error",c),c;case 21:e.next=24;break;case 23:+n["@ns"]!==i["l"]&&+n["@ns"]!==i["n"]||(u={},u.namespace=+n["@ns"],+n["@ns"]===i["l"]?(u.namespace=i["o"],u.st=n["title"]&&n["title"][0]["#text"]?n["title"][0]["#text"]:"",u.a=n["author"]&&n["author"][0]["#text"]?n["author"][0]["#text"]:""):+n["@ns"]===i["n"]&&(d=se(n),u.pn=d[0],u.li=d[1]),u.target="gedcom",u.gedcomtab=r,u.gedcomkey=n["@id"],g("Special:AddPage",u));case 24:return e.abrupt("return",!0);case 25:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}function de(e,t){return fe.apply(this,arguments)}function fe(){return fe=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,c,s,u,d,f,p,m,v,b,y,w,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isUpdatable){e.next=2;break}return e.abrupt("return",!1);case 2:return h=n,a=je(t,n),e.next=6,Object(o["h"])(a);case 6:if(c=e.sent,c=Object(l["e"])(c),!c||"0"!==c["@status"]){e.next=22;break}if(s={},s.gedcom="true",s.formAction="Merge",s.ns=i["f"][+n["@ns"]],s.maxpages=2,s.m_0=Object(i["H"])(t,n),s.m_1=n["@match"],+n["@ns"]===i["k"]){u=Object(r["a"])(n["husband"]||[]);try{for(u.s();!(d=u.n()).done;)f=d.value,pe(t,f,"mh_0","mh_1",s)}catch(x){u.e(x)}finally{u.f()}p=Object(r["a"])(n["wife"]||[]);try{for(p.s();!(m=p.n()).done;)v=m.value,pe(t,v,"mw_0","mw_1",s)}catch(x){p.e(x)}finally{p.f()}b=0,y=Object(r["a"])(n["child"]||[]);try{for(y.s();!(w=y.n()).done;)O=w.value,pe(t,O,"mc_0_"+b,"mc_1_"+b,s)&&(s["mcr_0_"+b]=b+1,s["mcr_1_"+b]=b+1,b++)}catch(x){y.e(x)}finally{y.f()}s.maxchildren=b}s.gedcomtab=i["d"],s.gedcomkey=n["@id"],g("Special:Merge",s),e.next=24;break;case 22:throw console.log("mergeItem error",c),c;case 24:return e.abrupt("return",!0);case 25:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function pe(e,t,n,r,a){var o=e.personMap[t["@id"]];return!(!o||!o["@match"])&&(a[n]=Object(i["H"])(e,o),a[r]=o["@match"],!0)}function he(e,t){return me.apply(this,arguments)}function me(){return me=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isUpdatable){e.next=2;break}return e.abrupt("return",!1);case 2:return h=n,r=je(t,n),e.next=6,Object(o["h"])(r);case 6:if(a=e.sent,a=Object(l["e"])(a),!a||"0"!==a["@status"]){e.next=17;break}c={},c.ns=i["f"][+n["@ns"]],c.compare=Object(i["H"])(t,n)+"|"+n["@matches"],c.gedcomtab=i["d"],c.gedcomkey=n["@id"],g("Special:Compare",c),e.next=19;break;case 17:throw console.log("compareItem error",a),a;case 19:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}function ve(e,t){return be.apply(this,arguments)}function be(){return be=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,we(t,n);case 2:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}function ge(e,t,n){return ye.apply(this,arguments)}function ye(){return ye=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}if(r!==p){e.next=4;break}e.next=11;break;case 4:if(r!==f){e.next=9;break}return e.next=7,v(t,n,i["d"]);case 7:e.next=11;break;case 9:return e.next=11,ve(t,n);case 11:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function we(e,t){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(i["R"])(t,n),h=n,e.next=4,Object(o["h"])(r);case 4:if(a=e.sent,a=Object(l["e"])(a),!a||"0"!==a["@status"]){e.next=15;break}c={},c.gedcomtab=Object(i["E"])(+n["@ns"]),c.gedcomkey=n["@id"],c.gedcomid=t.gedcomId,t.isUpdatable&&(t.isMergeable||t.isAdmin)&&(c.editable="true"),g("Special:GedcomPage",c),e.next=17;break;case 15:throw console.log("loadPageData error",a),a;case 17:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}function xe(e,t,n,a,i,o){var c,s=[],u=[],l=Object(r["a"])(t["child_of_family"]||[]);try{for(l.s();!(c=l.n()).done;){var d=c.value,f=e.familyMap[d["@id"]];f&&s.push(f)}}catch(k){l.e(k)}finally{l.f()}var p,h=Object(r["a"])(n["child_of_family"]||[]);try{for(h.s();!(p=h.n()).done;){var m=p.value;u.push(m["@title"])}}catch(k){h.e(k)}finally{h.f()}Me(e,u,s,t,!1,a,i,o),s=[],u=[];var v,b=Object(r["a"])(t["spouse_of_family"]||[]);try{for(b.s();!(v=b.n()).done;){var g=v.value,y=e.familyMap[g["@id"]];y&&s.push(y)}}catch(k){b.e(k)}finally{b.f()}var w,O=Object(r["a"])(n["spouse_of_family"]||[]);try{for(O.s();!(w=O.n()).done;){var x=w.value;u.push(x["@title"])}}catch(k){O.e(k)}finally{O.f()}Me(e,u,s,t,!0,a,i,o)}function ke(e){var t,n=[],a=Object(r["a"])(e["source_citation"]||[]);try{for(a.s();!(t=a.n()).done;){var i=t.value,o=i["@source_id"];n.includes(o)||n.push(o)}}catch(c){a.e(c)}finally{a.f()}return n}function je(e,t){var n={family:[],person:[]};n["@gedcomId"]=e.gedcomId;var a=Object(i["R"])(e,t,!0);if(+a["@ns"]===i["m"]){n["person"].push(a);var o,c=Object(r["a"])(a["child_of_family"]||[]);try{for(c.s();!(o=c.n()).done;){var s=o.value;_e(e,s["@id"],a["@id"],n)}}catch(j){c.e(j)}finally{c.f()}var u,l=Object(r["a"])(a["spouse_of_family"]||[]);try{for(l.s();!(u=l.n()).done;){var d=u.value;_e(e,d["@id"],a["@id"],n)}}catch(j){l.e(j)}finally{l.f()}}else if(+a["@ns"]===i["k"]){n["family"].push(a);var f,p=Object(r["a"])(a["husband"]||[]);try{for(p.s();!(f=p.n()).done;){var h=f.value,m=e.personMap[h["@id"]];m&&n["person"].push(Object(i["R"])(e,m,!0))}}catch(j){p.e(j)}finally{p.f()}var v,b=Object(r["a"])(a["wife"]||[]);try{for(b.s();!(v=b.n()).done;){var g=v.value,y=e.personMap[g["@id"]];y&&n["person"].push(Object(i["R"])(e,y,!0))}}catch(j){b.e(j)}finally{b.f()}var w,O=Object(r["a"])(a["child"]||[]);try{for(O.s();!(w=O.n()).done;){var x=w.value,k=e.personMap[x["@id"]];k&&n["person"].push(Object(i["R"])(e,k,!0))}}catch(j){O.e(j)}finally{O.f()}}return n}function _e(e,t,n,a){var o=e.familyMap[t];if(o){a["family"].push(Object(i["R"])(e,o,!0));var c,s=Object(r["a"])(o["husband"]||[]);try{for(s.s();!(c=s.n()).done;){var u=c.value,l=e.personMap[u["@id"]];l&&l["@id"]!==n&&a["person"].push(Object(i["R"])(e,l,!0))}}catch(m){s.e(m)}finally{s.f()}var d,f=Object(r["a"])(o["wife"]||[]);try{for(f.s();!(d=f.n()).done;){var p=d.value,h=e.personMap[p["@id"]];h&&h["@id"]!==n&&a["person"].push(Object(i["R"])(e,h,!0))}}catch(m){f.e(m)}finally{f.f()}}}function Me(e,t,n,r,a,i,o,c){for(var s=[],u=0;u<n.length;u++){for(var l=0,d=-1,f=0;f<t.length;f++)if(!s[f]){var p=Re(e,t[f],n[u],r,a,i);p>l?(l=p,d=f):p>0&&p===l&&(d=-1)}d>=0&&(o.push(n[u]),c.push(t[d]),s[d]=!0)}}function Re(e,t,n,r,a,o){var c=0,s=/(.*)\s+and\s+(.*)\s+\(\d+\)/i,u=s.exec(t);if(null!=u){var l=u[1],d=n["husband"]?e.personMap[n["husband"][0]["@id"]]:null,f=d&&d["name"]?Object(i["G"])(d["name"][0]):"";(!a||r["gender"]&&"F"===r["gender"][0]["#text"])&&(c+=Ce(l,f,o));var p=u[2],h=n["wife"]?e.personMap[n["wife"][0]["@id"]]:null,m=h&&h["name"]?Object(i["G"])(h["name"][0]):"";(!a||r["gender"]&&"M"===r["gender"][0]["#text"])&&(c+=Ce(p,m,o))}return c}function Ce(e,t,n){var a=0;if(e=e.trim(),t=t.trim(),e.length>0&&t.length>0){var i,o=e.split(/[ ,\-']+/),s=t.split(/[ ,\-']+/),u=Object(r["a"])(o);try{for(u.s();!(i=u.n()).done;){var l=i.value;l=l.toLowerCase();var d,f=Object(r["a"])(s);try{for(f.s();!(d=f.n()).done;){var p=d.value;p=p.toLowerCase(),l===p?a+=2:Object(c["e"])(l,p)>=n&&(a+=1)}}catch(h){f.e(h)}finally{f.f()}}}catch(h){u.e(h)}finally{u.f()}}return a}function Ee(e){return"true"===e?"1":"false"===e?"-1":"0"}function De(e){var t=+e["@ns"];t===i["l"]&&(t=i["o"]),g(i["f"][t]+":"+e["@match"])}},cb70:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"j",(function(){return w}));n("a15b"),n("d3b7"),n("25f0"),n("b64b");var r=n("bc3a"),a=n.n(r),i=n("04ac"),o=n.n(i),c=a.a.create({baseURL:"https://www.werelate.org",withCredentials:!1,headers:{Accept:"text/xml","Content-Type":"multipart/form-data"}});function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r={action:"ajax",rs:e},a="",i=null;if("string"===typeof t)a=t;else if(t)for(var o=0,s=Object.keys(t);o<s.length;o++){var l=s[o];a.length>0&&(a+="|"),a+=l+"="+t[l]}if(a.length>0&&(r["rsargs"]=a),"POST"===n){i=new FormData;for(var d=0,f=Object.keys(r);d<f.length;d++){var p=f[d];i.append(p,r[p])}r=null}return c.request({method:n,url:u(),params:r,data:i})}function u(){return"/w/index.php"}o()(c,{retries:3});var l=n("4ac7"),d="https://www.werelate.org";function f(e){return s("wfReadGedcom",{gedcom_id:e}).then((function(e){return Object(l["c"])(e.data)}))}function p(e){return s("wfReadGedcomData",{gedcom_id:e}).then((function(e){return Object(l["c"])(e.data)}))}function h(e){var t=Object(l["d"])(e);return s("wfSetGedcomPage",t,"POST").then((function(e){return Object(l["c"])(e.data)}))}function m(e,t){return s("wfReadGedcomPageData",{gedcom_id:e,key:t}).then((function(e){return Object(l["c"])(e.data)}))}function v(e,t,n,r){var a,i;return Array.isArray(r)?(a=r.join("/"),i="POST"):(a=r.toString(),i="GET"),s("wfUpdateGedcomFlag",{gedcom_id:e,attr:t,value:n,key:a},i).then((function(e){return Object(l["c"])(e.data)}))}function b(e){var t=Object(l["d"])(e);return s("wfMatchFamily",t,"POST").then((function(e){return Object(l["c"])(e.data)}))}function g(e,t,n,r){return s("wfUpdateGedcomMatches",{gedcom_id:e,match:t.join("/"),key:r.join("/"),merged:n.join("/")},"POST").then((function(e){return Object(l["c"])(e.data)}))}function y(e,t,n){return s("wfUpdateGedcomPotentialMatches",{gedcom_id:e,matches:t.join("/"),key:n.join("/")},"POST").then((function(e){return Object(l["c"])(e.data)}))}function w(e,t,n){return s("wfUpdateGedcomStatus",{gedcom_id:e,gedcomStatus:t,warning:n}).then((function(e){return Object(l["c"])(e.data)}))}},d97b:function(e,t,n){},ef13:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="ef13"}});
//# sourceMappingURL=app.ae212fb3.js.map